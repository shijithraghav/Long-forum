/*!
 * # Semantic UI - Nag
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(e,t,n,i){"use strict";e.fn.nag=function(n){var a,o=e(this),r=o.selector||"",l=(new Date).getTime(),s=[],c=arguments[0],d="string"==typeof c,u=[].slice.call(arguments,1);return o.each(function(){var o,m=e.isPlainObject(n)?e.extend(!0,{},e.fn.nag.settings,n):e.extend({},e.fn.nag.settings),p=(m.className,m.selector),h=m.error,g=m.namespace,f="."+g,b=g+"-module",v=e(this),T=(v.find(p.close),e(m.context?m.context:"body")),E=this,y=v.data(b);t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};o={initialize:function(){o.verbose("Initializing element"),v.on("click"+f,p.close,o.dismiss).data(b,o),m.detachable&&v.parent()[0]!==T[0]&&v.detach().prependTo(T),m.displayTime>0&&setTimeout(o.hide,m.displayTime),o.show()},destroy:function(){o.verbose("Destroying instance"),v.removeData(b).off(f)},show:function(){o.should.show()&&!v.is(":visible")&&(o.debug("Showing nag",m.animation.show),"fade"==m.animation.show?v.fadeIn(m.duration,m.easing):v.slideDown(m.duration,m.easing))},hide:function(){o.debug("Showing nag",m.animation.hide),"fade"==m.animation.show?v.fadeIn(m.duration,m.easing):v.slideUp(m.duration,m.easing)},onHide:function(){o.debug("Removing nag",m.animation.hide),v.remove(),m.onHide&&m.onHide()},dismiss:function(e){m.storageMethod&&o.storage.set(m.key,m.value),o.hide(),e.stopImmediatePropagation(),e.preventDefault()},should:{show:function(){return m.persist?(o.debug("Persistent nag is set, can show nag"),!0):o.storage.get(m.key)!=m.value.toString()?(o.debug("Stored value is not set, can show nag",o.storage.get(m.key)),!0):(o.debug("Stored value is set, cannot show nag",o.storage.get(m.key)),!1)}},get:{storageOptions:function(){var e={};return m.expires&&(e.expires=m.expires),m.domain&&(e.domain=m.domain),m.path&&(e.path=m.path),e}},clear:function(){o.storage.remove(m.key)},storage:{set:function(n,a){var r=o.get.storageOptions();if("localstorage"==m.storageMethod&&t.localStorage!==i)t.localStorage.setItem(n,a),o.debug("Value stored using local storage",n,a);else if("sessionstorage"==m.storageMethod&&t.sessionStorage!==i)t.sessionStorage.setItem(n,a),o.debug("Value stored using session storage",n,a);else{if(e.cookie===i)return void o.error(h.noCookieStorage);e.cookie(n,a,r),o.debug("Value stored using cookie",n,a,r)}},get:function(n,a){var r;return"localstorage"==m.storageMethod&&t.localStorage!==i?r=t.localStorage.getItem(n):"sessionstorage"==m.storageMethod&&t.sessionStorage!==i?r=t.sessionStorage.getItem(n):e.cookie!==i?r=e.cookie(n):o.error(h.noCookieStorage),("undefined"==r||"null"==r||r===i||null===r)&&(r=i),r},remove:function(n){var a=o.get.storageOptions();"localstorage"==m.storageMethod&&t.localStorage!==i?t.localStorage.removeItem(n):"sessionstorage"==m.storageMethod&&t.sessionStorage!==i?t.sessionStorage.removeItem(n):e.cookie!==i?e.removeCookie(n,a):o.error(h.noStorage)}},setting:function(t,n){if(o.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,o,t);else{if(n===i)return o[t];o[t]=n}},debug:function(){m.debug&&(m.performance?o.performance.log(arguments):(o.debug=Function.prototype.bind.call(console.info,console,m.name+":"),o.debug.apply(console,arguments)))},verbose:function(){m.verbose&&m.debug&&(m.performance?o.performance.log(arguments):(o.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),o.verbose.apply(console,arguments)))},error:function(){o.error=Function.prototype.bind.call(console.error,console,m.name+":"),o.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;m.performance&&(t=(new Date).getTime(),i=l||t,n=t-i,l=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:E,"Execution Time":n})),clearTimeout(o.performance.timer),o.performance.timer=setTimeout(o.performance.display,500)},display:function(){var t=m.name+":",n=0;l=!1,clearTimeout(o.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,r){var l,s,c,d=y;return n=n||u,r=E||r,"string"==typeof t&&d!==i&&(t=t.split(/[\. ]/),l=t.length-1,e.each(t,function(n,a){var r=n!=l?a+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(d[r])&&n!=l)d=d[r];else{if(d[r]!==i)return s=d[r],!1;if(!e.isPlainObject(d[a])||n==l)return d[a]!==i?(s=d[a],!1):(o.error(h.method,t),!1);d=d[a]}})),e.isFunction(s)?c=s.apply(r,n):s!==i&&(c=s),e.isArray(a)?a.push(c):a!==i?a=[a,c]:c!==i&&(a=c),s}},d?(y===i&&o.initialize(),o.invoke(c)):(y!==i&&y.invoke("destroy"),o.initialize())}),a!==i?a:this},e.fn.nag.settings={name:"Nag",debug:!1,verbose:!1,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noCookieStorage:"$.cookie is not included. A storage solution is required.",noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}}}(jQuery,window,document);