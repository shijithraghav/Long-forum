/*!
 * # Semantic UI - Dimmer
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(e,t,i,n){"use strict";e.fn.dimmer=function(t){var a,o=e(this),r=(new Date).getTime(),l=[],s=arguments[0],c="string"==typeof s,d=[].slice.call(arguments,1);return o.each(function(){var u,m,p,h=e.isPlainObject(t)?e.extend(!0,{},e.fn.dimmer.settings,t):e.extend({},e.fn.dimmer.settings),g=h.selector,f=h.namespace,b=h.className,v=h.error,T="."+f,E="module-"+f,y=o.selector||"",C="ontouchstart"in i.documentElement?"touchstart":"click",k=e(this),I=this,D=k.data(E);p={preinitialize:function(){p.is.dimmer()?(m=k.parent(),u=k):(m=k,u=p.has.dimmer()?h.dimmerName?m.find(g.dimmer).filter("."+h.dimmerName):m.find(g.dimmer):p.create())},initialize:function(){p.debug("Initializing dimmer",h),p.bind.events(),p.set.dimmable(),p.instantiate()},instantiate:function(){p.verbose("Storing instance of module",p),D=p,k.data(E,D)},destroy:function(){p.verbose("Destroying previous module",u),p.unbind.events(),p.remove.variation(),m.off(T)},bind:{events:function(){"hover"==h.on?m.on("mouseenter"+T,p.show).on("mouseleave"+T,p.hide):"click"==h.on&&m.on(C+T,p.toggle),p.is.page()&&(p.debug("Setting as a page dimmer",m),p.set.pageDimmer()),p.is.closable()&&(p.verbose("Adding dimmer close event",u),m.on(C+T,g.dimmer,p.event.click))}},unbind:{events:function(){k.removeData(E)}},event:{click:function(t){p.verbose("Determining if event occured on dimmer",t),(0===u.find(t.target).length||e(t.target).is(g.content))&&(p.hide(),t.stopImmediatePropagation())}},addContent:function(t){var i=e(t);p.debug("Add content to dimmer",i),i.parent()[0]!==u[0]&&i.detach().appendTo(u)},create:function(){var t=e(h.template.dimmer());return h.variation&&(p.debug("Creating dimmer with variation",h.variation),t.addClass(h.variation)),h.dimmerName&&(p.debug("Creating named dimmer",h.dimmerName),t.addClass(h.dimmerName)),t.appendTo(m),t},show:function(t){t=e.isFunction(t)?t:function(){},p.debug("Showing dimmer",u,h),p.is.dimmed()&&!p.is.animating()||!p.is.enabled()?p.debug("Dimmer is already shown or disabled"):(p.animate.show(t),h.onShow.call(I),h.onChange.call(I))},hide:function(t){t=e.isFunction(t)?t:function(){},p.is.dimmed()||p.is.animating()?(p.debug("Hiding dimmer",u),p.animate.hide(t),h.onHide.call(I),h.onChange.call(I)):p.debug("Dimmer is not visible")},toggle:function(){p.verbose("Toggling dimmer visibility",u),p.is.dimmed()?p.hide():p.show()},animate:{show:function(t){t=e.isFunction(t)?t:function(){},h.useCSS&&e.fn.transition!==n&&u.transition("is supported")?("auto"!==h.opacity&&p.set.opacity(),u.transition({animation:h.transition+" in",queue:!1,duration:p.get.duration(),useFailSafe:!0,onStart:function(){p.set.dimmed()},onComplete:function(){p.set.active(),t()}})):(p.verbose("Showing dimmer animation with javascript"),p.set.dimmed(),"auto"==h.opacity&&(h.opacity=.8),u.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(p.get.duration(),h.opacity,function(){u.removeAttr("style"),p.set.active(),t()}))},hide:function(t){t=e.isFunction(t)?t:function(){},h.useCSS&&e.fn.transition!==n&&u.transition("is supported")?(p.verbose("Hiding dimmer with css"),u.transition({animation:h.transition+" out",queue:!1,duration:p.get.duration(),useFailSafe:!0,onStart:function(){p.remove.dimmed()},onComplete:function(){p.remove.active(),t()}})):(p.verbose("Hiding dimmer with javascript"),p.remove.dimmed(),u.stop().fadeOut(p.get.duration(),function(){p.remove.active(),u.removeAttr("style"),t()}))}},get:{dimmer:function(){return u},duration:function(){return"object"==typeof h.duration?p.is.active()?h.duration.hide:h.duration.show:h.duration}},has:{dimmer:function(){return h.dimmerName?k.find(g.dimmer).filter("."+h.dimmerName).length>0:k.find(g.dimmer).length>0}},is:{active:function(){return u.hasClass(b.active)},animating:function(){return u.is(":animated")||u.hasClass(b.animating)},closable:function(){return"auto"==h.closable?"hover"==h.on?!1:!0:h.closable},dimmer:function(){return k.hasClass(b.dimmer)},dimmable:function(){return k.hasClass(b.dimmable)},dimmed:function(){return m.hasClass(b.dimmed)},disabled:function(){return m.hasClass(b.disabled)},enabled:function(){return!p.is.disabled()},page:function(){return m.is("body")},pageDimmer:function(){return u.hasClass(b.pageDimmer)}},can:{show:function(){return!u.hasClass(b.disabled)}},set:{opacity:function(e){var t=u.css("background-color"),i=t.split(","),n=i&&4==i.length;e=h.opacity||e,n?(i[3]=e+")",t=i.join(",")):t="rgba(0, 0, 0, "+e+")",p.debug("Setting opacity to",e),u.css("background-color",t)},active:function(){u.addClass(b.active)},dimmable:function(){m.addClass(b.dimmable)},dimmed:function(){m.addClass(b.dimmed)},pageDimmer:function(){u.addClass(b.pageDimmer)},disabled:function(){u.addClass(b.disabled)},variation:function(e){e=e||h.variation,e&&u.addClass(e)}},remove:{active:function(){u.removeClass(b.active)},dimmed:function(){m.removeClass(b.dimmed)},disabled:function(){u.removeClass(b.disabled)},variation:function(e){e=e||h.variation,e&&u.removeClass(e)}},setting:function(t,i){if(p.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,h,t);else{if(i===n)return h[t];h[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(i===n)return p[t];p[t]=i}},debug:function(){h.debug&&(h.performance?p.performance.log(arguments):(p.debug=Function.prototype.bind.call(console.info,console,h.name+":"),p.debug.apply(console,arguments)))},verbose:function(){h.verbose&&h.debug&&(h.performance?p.performance.log(arguments):(p.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),p.verbose.apply(console,arguments)))},error:function(){p.error=Function.prototype.bind.call(console.error,console,h.name+":"),p.error.apply(console,arguments)},performance:{log:function(e){var t,i,n;h.performance&&(t=(new Date).getTime(),n=r||t,i=t-n,r=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:I,"Execution Time":i})),clearTimeout(p.performance.timer),p.performance.timer=setTimeout(p.performance.display,500)},display:function(){var t=h.name+":",i=0;r=!1,clearTimeout(p.performance.timer),e.each(l,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",y&&(t+=" '"+y+"'"),o.length>1&&(t+=" ("+o.length+")"),(console.group!==n||console.table!==n)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,i,o){var r,l,s,c=D;return i=i||d,o=I||o,"string"==typeof t&&c!==n&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(i,a){var o=i!=r?a+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(c[o])&&i!=r)c=c[o];else{if(c[o]!==n)return l=c[o],!1;if(!e.isPlainObject(c[a])||i==r)return c[a]!==n?(l=c[a],!1):(p.error(v.method,t),!1);c=c[a]}})),e.isFunction(l)?s=l.apply(o,i):l!==n&&(s=l),e.isArray(a)?a.push(s):a!==n?a=[a,s]:s!==n&&(a=s),l}},p.preinitialize(),c?(D===n&&p.initialize(),p.invoke(s)):(D!==n&&D.invoke("destroy"),p.initialize())}),a!==n?a:this},e.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",debug:!1,verbose:!1,performance:!0,dimmerName:!1,variation:!1,closable:"auto",useCSS:!0,transition:"fade",on:!1,opacity:"auto",duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",dimmer:"dimmer",disabled:"disabled",hide:"hide",pageDimmer:"page",show:"show"},selector:{dimmer:"> .ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return e("<div />").attr("class","ui dimmer")}}}}(jQuery,window,document);