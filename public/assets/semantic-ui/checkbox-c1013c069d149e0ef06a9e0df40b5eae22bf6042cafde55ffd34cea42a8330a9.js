/*!
 * # Semantic UI - Checkbox
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(e,t,i,n){"use strict";e.fn.checkbox=function(i){var a,o=e(this),r=o.selector||"",l=(new Date).getTime(),s=[],c=arguments[0],d="string"==typeof c,u=[].slice.call(arguments,1);return o.each(function(){var o,m,p=e.extend(!0,{},e.fn.checkbox.settings,i),h=p.className,g=p.namespace,f=p.selector,b=p.error,v="."+g,T="module-"+g,E=e(this),y=e(this).children(f.label),C=e(this).children(f.input),k=C[0],I=!1,D=!1,R=E.data(T),O=this;m={initialize:function(){m.verbose("Initializing checkbox",p),m.create.label(),m.bind.events(),m.set.tabbable(),m.hide.input(),m.observeChanges(),m.instantiate(),m.setup()},instantiate:function(){m.verbose("Storing instance of module",m),R=m,E.data(T,m)},destroy:function(){m.verbose("Destroying module"),m.unbind.events(),m.show.input(),E.removeData(T)},fix:{reference:function(){E.is(f.input)&&(m.debug("Behavior called on <input> adjusting invoked element"),E=E.closest(f.checkbox),m.refresh())}},setup:function(){m.set.initialLoad(),m.is.indeterminate()?(m.debug("Initial value is indeterminate"),m.indeterminate()):m.is.checked()?(m.debug("Initial value is checked"),m.check()):(m.debug("Initial value is unchecked"),m.uncheck()),m.remove.initialLoad()},refresh:function(){y=E.children(f.label),C=E.children(f.input),k=C[0]},hide:{input:function(){m.verbose("Modfying <input> z-index to be unselectable"),C.addClass(h.hidden)}},show:{input:function(){m.verbose("Modfying <input> z-index to be selectable"),C.removeClass(h.hidden)}},observeChanges:function(){"MutationObserver"in t&&(o=new MutationObserver(function(e){m.debug("DOM tree modified, updating selector cache"),m.refresh()}),o.observe(O,{childList:!0,subtree:!0}),m.debug("Setting up mutation observer",o))},attachEvents:function(t,i){var n=e(t);i=e.isFunction(m[i])?m[i]:m.toggle,n.length>0?(m.debug("Attaching checkbox events to element",t,i),n.on("click"+v,i)):m.error(b.notFound)},event:{click:function(t){var i=e(t.target);return i.is(f.input)?void m.verbose("Using default check action on initialized checkbox"):i.is(f.link)?void m.debug("Clicking link inside checkbox, skipping toggle"):(m.toggle(),C.focus(),void t.preventDefault())},keydown:function(e){var t=e.which,i={enter:13,space:32,escape:27};t==i.escape?(m.verbose("Escape key pressed blurring field"),C.blur(),D=!0):e.ctrlKey||t!=i.space&&t!=i.enter?D=!1:(m.verbose("Enter/space key pressed, toggling checkbox"),m.toggle(),D=!0)},keyup:function(e){D&&e.preventDefault()}},check:function(){m.should.allowCheck()&&(m.debug("Checking checkbox",C),m.set.checked(),m.should.ignoreCallbacks()||(p.onChecked.call(k),p.onChange.call(k)))},uncheck:function(){m.should.allowUncheck()&&(m.debug("Unchecking checkbox"),m.set.unchecked(),m.should.ignoreCallbacks()||(p.onUnchecked.call(k),p.onChange.call(k)))},indeterminate:function(){return m.should.allowIndeterminate()?void m.debug("Checkbox is already indeterminate"):(m.debug("Making checkbox indeterminate"),m.set.indeterminate(),void(m.should.ignoreCallbacks()||(p.onIndeterminate.call(k),p.onChange.call(k))))},determinate:function(){return m.should.allowDeterminate()?void m.debug("Checkbox is already determinate"):(m.debug("Making checkbox determinate"),m.set.determinate(),void(m.should.ignoreCallbacks()||(p.onDeterminate.call(k),p.onChange.call(k))))},enable:function(){return m.is.enabled()?void m.debug("Checkbox is already enabled"):(m.debug("Enabling checkbox"),m.set.enabled(),void p.onEnable.call(k))},disable:function(){return m.is.disabled()?void m.debug("Checkbox is already disabled"):(m.debug("Disabling checkbox"),m.set.disabled(),void p.onDisable.call(k))},get:{radios:function(){var t=m.get.name();return e('input[name="'+t+'"]').closest(f.checkbox)},otherRadios:function(){return m.get.radios().not(E)},name:function(){return C.attr("name")}},is:{initialLoad:function(){return I},radio:function(){return C.hasClass(h.radio)||"radio"==C.attr("type")},indeterminate:function(){return C.prop("indeterminate")!==n&&C.prop("indeterminate")},checked:function(){return C.prop("checked")!==n&&C.prop("checked")},disabled:function(){return C.prop("disabled")!==n&&C.prop("disabled")},enabled:function(){return!m.is.disabled()},determinate:function(){return!m.is.indeterminate()},unchecked:function(){return!m.is.checked()}},should:{allowCheck:function(){return m.is.determinate()&&m.is.checked()&&!m.should.forceCallbacks()?(m.debug("Should not allow check, checkbox is already checked"),!1):p.beforeChecked.apply(k)===!1?(m.debug("Should not allow check, beforeChecked cancelled"),!1):!0},allowUncheck:function(){return m.is.determinate()&&m.is.unchecked()&&!m.should.forceCallbacks()?(m.debug("Should not allow uncheck, checkbox is already unchecked"),!1):p.beforeUnchecked.apply(k)===!1?(m.debug("Should not allow uncheck, beforeUnchecked cancelled"),!1):!0},allowIndeterminate:function(){return m.is.indeterminate()&&!m.should.forceCallbacks()?(m.debug("Should not allow indeterminate, checkbox is already indeterminate"),!1):p.beforeIndeterminate.apply(k)===!1?(m.debug("Should not allow indeterminate, beforeIndeterminate cancelled"),!1):!0},allowDeterminate:function(){return m.is.determinate()&&!m.should.forceCallbacks()?(m.debug("Should not allow determinate, checkbox is already determinate"),!1):p.beforeDeterminate.apply(k)===!1?(m.debug("Should not allow determinate, beforeDeterminate cancelled"),!1):!0},forceCallbacks:function(){return m.is.initialLoad()&&p.fireOnInit},ignoreCallbacks:function(){return I&&!p.fireOnInit}},can:{change:function(){return!(E.hasClass(h.disabled)||E.hasClass(h.readOnly)||C.prop("disabled")||C.prop("readonly"))},uncheck:function(){return"boolean"==typeof p.uncheckable?p.uncheckable:!m.is.radio()}},set:{initialLoad:function(){I=!0},checked:function(){return m.verbose("Setting class to checked"),E.removeClass(h.indeterminate).addClass(h.checked),m.is.radio()&&m.uncheckOthers(),!m.is.indeterminate()&&m.is.checked()?void m.debug("Input is already checked, skipping input property change"):(m.verbose("Setting state to checked",k),C.prop("indeterminate",!1).prop("checked",!0),void m.trigger.change())},unchecked:function(){return m.verbose("Removing checked class"),E.removeClass(h.indeterminate).removeClass(h.checked),!m.is.indeterminate()&&m.is.unchecked()?void m.debug("Input is already unchecked"):(m.debug("Setting state to unchecked"),C.prop("indeterminate",!1).prop("checked",!1),void m.trigger.change())},indeterminate:function(){return m.verbose("Setting class to indeterminate"),E.addClass(h.indeterminate),m.is.indeterminate()?void m.debug("Input is already indeterminate, skipping input property change"):(m.debug("Setting state to indeterminate"),C.prop("indeterminate",!0),void m.trigger.change())},determinate:function(){return m.verbose("Removing indeterminate class"),E.removeClass(h.indeterminate),m.is.determinate()?void m.debug("Input is already determinate, skipping input property change"):(m.debug("Setting state to determinate"),void C.prop("indeterminate",!1))},disabled:function(){return m.verbose("Setting class to disabled"),E.addClass(h.disabled),m.is.disabled()?void m.debug("Input is already disabled, skipping input property change"):(m.debug("Setting state to disabled"),C.prop("disabled","disabled"),void m.trigger.change())},enabled:function(){return m.verbose("Removing disabled class"),E.removeClass(h.disabled),m.is.enabled()?void m.debug("Input is already enabled, skipping input property change"):(m.debug("Setting state to enabled"),C.prop("disabled",!1),void m.trigger.change())},tabbable:function(){m.verbose("Adding tabindex to checkbox"),C.attr("tabindex")===n&&C.attr("tabindex",0)}},remove:{initialLoad:function(){I=!1}},trigger:{change:function(){m.verbose("Triggering change event from programmatic change"),C.trigger("change")}},create:{label:function(){C.prevAll(f.label).length>0?(C.prev(f.label).detach().insertAfter(C),m.debug("Moving existing label",y)):m.has.label()||(y=e("<label>").insertAfter(C),m.debug("Creating label",y))}},has:{label:function(){return y.length>0}},bind:{events:function(){m.verbose("Attaching checkbox events"),E.on("click"+v,m.event.click).on("keydown"+v,f.input,m.event.keydown).on("keyup"+v,f.input,m.event.keyup)}},unbind:{events:function(){m.debug("Removing events"),E.off(v)}},uncheckOthers:function(){var e=m.get.otherRadios();m.debug("Unchecking other radios",e),e.removeClass(h.checked)},toggle:function(){return m.can.change()?void(m.is.indeterminate()||m.is.unchecked()?(m.debug("Currently unchecked"),m.check()):m.is.checked()&&m.can.uncheck()&&(m.debug("Currently checked"),m.uncheck())):void(m.is.radio()||m.debug("Checkbox is read-only or disabled, ignoring toggle"))},setting:function(t,i){if(m.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,p,t);else{if(i===n)return p[t];p[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(i===n)return m[t];m[t]=i}},debug:function(){p.debug&&(p.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,p.name+":"),m.debug.apply(console,arguments)))},verbose:function(){p.verbose&&p.debug&&(p.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),m.verbose.apply(console,arguments)))},error:function(){m.error=Function.prototype.bind.call(console.error,console,p.name+":"),m.error.apply(console,arguments)},performance:{log:function(e){var t,i,n;p.performance&&(t=(new Date).getTime(),n=l||t,i=t-n,l=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:O,"Execution Time":i})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var t=p.name+":",i=0;l=!1,clearTimeout(m.performance.timer),e.each(s,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",r&&(t+=" '"+r+"'"),(console.group!==n||console.table!==n)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,i,o){var r,l,s,c=R;return i=i||u,o=O||o,"string"==typeof t&&c!==n&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(i,a){var o=i!=r?a+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(c[o])&&i!=r)c=c[o];else{if(c[o]!==n)return l=c[o],!1;if(!e.isPlainObject(c[a])||i==r)return c[a]!==n?(l=c[a],!1):(m.error(b.method,t),!1);c=c[a]}})),e.isFunction(l)?s=l.apply(o,i):l!==n&&(s=l),e.isArray(a)?a.push(s):a!==n?a=[a,s]:s!==n&&(a=s),l}},d?(R===n&&m.initialize(),m.invoke(c)):(R!==n&&R.invoke("destroy"),m.initialize())}),a!==n?a:this},e.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",debug:!1,verbose:!0,performance:!0,uncheckable:"auto",fireOnInit:!1,onChange:function(){},beforeChecked:function(){},beforeUnchecked:function(){},beforeDeterminate:function(){},beforeIndeterminate:function(){},onChecked:function(){},onUnchecked:function(){},onDeterminate:function(){},onIndeterminate:function(){},onEnabled:function(){},onDisabled:function(){},className:{checked:"checked",indeterminate:"indeterminate",disabled:"disabled",hidden:"hidden",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{checkbox:".ui.checkbox",label:"label, .box",input:'input[type="checkbox"], input[type="radio"]',link:"a[href]"}}}(jQuery,window,document);