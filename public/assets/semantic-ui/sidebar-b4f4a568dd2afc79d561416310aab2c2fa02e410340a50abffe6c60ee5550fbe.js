/*!
 * # Semantic UI - Sidebar
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(e,t,n,i){"use strict";e.fn.sidebar=function(a){var o,r=e(this),l=e(t),s=e(n),c=e("html"),d=e("head"),u=r.selector||"",m=(new Date).getTime(),p=[],h=arguments[0],g="string"==typeof h,f=[].slice.call(arguments,1),b=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return r.each(function(){var r,v,T,E,y,C,k=e.isPlainObject(a)?e.extend(!0,{},e.fn.sidebar.settings,a):e.extend({},e.fn.sidebar.settings),I=k.selector,D=k.className,R=k.namespace,O=k.regExp,w=k.error,S="."+R,_="module-"+R,A=e(this),x=e(k.context),K=A.children(I.sidebar),L=x.children(I.fixed),N=x.children(I.pusher),F=this,P=A.data(_);C={initialize:function(){C.debug("Initializing sidebar",a),C.create.id(),y=C.get.transitionEvent(),C.is.ios()&&C.set.ios(),k.delaySetup?b(C.setup.layout):C.setup.layout(),b(function(){C.setup.cache()}),C.instantiate()},instantiate:function(){C.verbose("Storing instance of module",C),P=C,A.data(_,C)},create:{id:function(){T=(Math.random().toString(16)+"000000000").substr(2,8),v="."+T,C.verbose("Creating unique id for element",T)}},destroy:function(){C.verbose("Destroying previous module for",A),A.off(S).removeData(_),C.is.ios()&&C.remove.ios(),x.off(v),l.off(v),s.off(v)},event:{clickaway:function(e){var t=N.find(e.target).length>0||N.is(e.target),n=x.is(e.target);t&&(C.verbose("User clicked on dimmed page"),C.hide()),n&&(C.verbose("User clicked on dimmable context (scaled out page)"),C.hide())},touch:function(e){},containScroll:function(e){F.scrollTop<=0&&(F.scrollTop=1),F.scrollTop+F.offsetHeight>=F.scrollHeight&&(F.scrollTop=F.scrollHeight-F.offsetHeight-1)},scroll:function(t){0===e(t.target).closest(I.sidebar).length&&t.preventDefault()}},bind:{clickaway:function(){C.verbose("Adding clickaway events to context",x),k.closable&&x.on("click"+v,C.event.clickaway).on("touchend"+v,C.event.clickaway)},scrollLock:function(){k.scrollLock&&(C.debug("Disabling page scroll"),l.on("DOMMouseScroll"+v,C.event.scroll)),C.verbose("Adding events to contain sidebar scroll"),s.on("touchmove"+v,C.event.touch),A.on("scroll"+S,C.event.containScroll)}},unbind:{clickaway:function(){C.verbose("Removing clickaway events from context",x),x.off(v)},scrollLock:function(){C.verbose("Removing scroll lock from page"),s.off(v),l.off(v),A.off("scroll"+S)}},add:{inlineCSS:function(){var t,n=C.cache.width||A.outerWidth(),i=C.cache.height||A.outerHeight(),a=C.is.rtl(),o=C.get.direction(),l={left:n,right:-n,top:i,bottom:-i};a&&(C.verbose("RTL detected, flipping widths"),l.left=-n,l.right=n),t="<style>","left"===o||"right"===o?(C.debug("Adding CSS rules for animation distance",n),t+=" .ui.visible."+o+".sidebar ~ .fixed, .ui.visible."+o+".sidebar ~ .pusher {   -webkit-transform: translate3d("+l[o]+"px, 0, 0);           transform: translate3d("+l[o]+"px, 0, 0); }"):("top"===o||"bottom"==o)&&(t+=" .ui.visible."+o+".sidebar ~ .fixed, .ui.visible."+o+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+l[o]+"px, 0);           transform: translate3d(0, "+l[o]+"px, 0); }"),C.is.ie()&&("left"===o||"right"===o?(C.debug("Adding CSS rules for animation distance",n),t+=" body.pushable > .ui.visible."+o+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+l[o]+"px, 0, 0);           transform: translate3d("+l[o]+"px, 0, 0); }"):("top"===o||"bottom"==o)&&(t+=" body.pushable > .ui.visible."+o+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+l[o]+"px, 0);           transform: translate3d(0, "+l[o]+"px, 0); }"),t+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),t+="</style>",r=e(t).appendTo(d),C.debug("Adding sizing css to head",r)}},refresh:function(){C.verbose("Refreshing selector cache"),x=e(k.context),K=x.children(I.sidebar),N=x.children(I.pusher),L=x.children(I.fixed),C.clear.cache()},refreshSidebars:function(){C.verbose("Refreshing other sidebars"),K=x.children(I.sidebar)},repaint:function(){C.verbose("Forcing repaint event"),F.style.display="none";F.offsetHeight;F.scrollTop=F.scrollTop,F.style.display=""},setup:{cache:function(){C.cache={width:A.outerWidth(),height:A.outerHeight(),rtl:"rtl"==A.css("direction")}},layout:function(){0===x.children(I.pusher).length&&(C.debug("Adding wrapper element for sidebar"),C.error(w.pusher),N=e('<div class="pusher" />'),x.children().not(I.omitted).not(K).wrapAll(N),C.refresh()),(0===A.nextAll(I.pusher).length||A.nextAll(I.pusher)[0]!==N[0])&&(C.debug("Moved sidebar to correct parent element"),C.error(w.movedSidebar,F),A.detach().prependTo(x),C.refresh()),C.clear.cache(),C.set.pushable(),C.set.direction()}},attachEvents:function(t,n){var i=e(t);n=e.isFunction(C[n])?C[n]:C.toggle,i.length>0?(C.debug("Attaching sidebar events to element",t,n),i.on("click"+S,n)):C.error(w.notFound,t)},show:function(t){if(t=e.isFunction(t)?t:function(){},C.is.hidden()){if(C.refreshSidebars(),k.overlay&&(C.error(w.overlay),k.transition="overlay"),C.refresh(),C.othersActive())if(C.debug("Other sidebars currently visible"),k.exclusive){if("overlay"!=k.transition)return void C.hideOthers(C.show);C.hideOthers()}else k.transition="overlay";C.pushPage(function(){t.call(F),k.onShow.call(F)}),k.onChange.call(F),k.onVisible.call(F)}else C.debug("Sidebar is already visible")},hide:function(t){t=e.isFunction(t)?t:function(){},(C.is.visible()||C.is.animating())&&(C.debug("Hiding sidebar",t),C.refreshSidebars(),C.pullPage(function(){t.call(F),k.onHidden.call(F)}),k.onChange.call(F),k.onHide.call(F))},othersAnimating:function(){return K.not(A).filter("."+D.animating).length>0},othersVisible:function(){return K.not(A).filter("."+D.visible).length>0},othersActive:function(){return C.othersVisible()||C.othersAnimating()},hideOthers:function(e){var t=K.not(A).filter("."+D.visible),n=t.length,i=0;e=e||function(){},t.sidebar("hide",function(){i++,i==n&&e()})},toggle:function(){C.verbose("Determining toggled direction"),C.is.hidden()?C.show():C.hide()},pushPage:function(t){var n,i,a,o=C.get.transition(),r="overlay"===o||C.othersActive()?A:N;t=e.isFunction(t)?t:function(){},"scale down"==k.transition&&C.scrollToTop(),C.set.transition(o),C.repaint(),n=function(){C.bind.clickaway(),C.add.inlineCSS(),C.set.animating(),C.set.visible()},i=function(){C.set.dimmed()},a=function(e){e.target==r[0]&&(r.off(y+v,a),C.remove.animating(),C.bind.scrollLock(),t.call(F))},r.off(y+v),r.on(y+v,a),b(n),k.dimPage&&!C.othersVisible()&&b(i)},pullPage:function(t){var n,i,a=C.get.transition(),o="overlay"==a||C.othersActive()?A:N;t=e.isFunction(t)?t:function(){},C.verbose("Removing context push state",C.get.direction()),C.unbind.clickaway(),C.unbind.scrollLock(),n=function(){C.set.transition(a),C.set.animating(),C.remove.visible(),k.dimPage&&!C.othersVisible()&&N.removeClass(D.dimmed)},i=function(e){e.target==o[0]&&(o.off(y+v,i),C.remove.animating(),C.remove.transition(),C.remove.inlineCSS(),("scale down"==a||k.returnScroll&&C.is.mobile())&&C.scrollBack(),t.call(F))},o.off(y+v),o.on(y+v,i),b(n)},scrollToTop:function(){C.verbose("Scrolling to top of page to avoid animation issues"),E=e(t).scrollTop(),A.scrollTop(0),t.scrollTo(0,0)},scrollBack:function(){C.verbose("Scrolling back to original page position"),t.scrollTo(0,E)},clear:{cache:function(){C.verbose("Clearing cached dimensions"),C.cache={}}},set:{ios:function(){c.addClass(D.ios)},pushed:function(){x.addClass(D.pushed)},pushable:function(){x.addClass(D.pushable)},dimmed:function(){N.addClass(D.dimmed)},active:function(){A.addClass(D.active)},animating:function(){A.addClass(D.animating)},transition:function(e){e=e||C.get.transition(),A.addClass(e)},direction:function(e){e=e||C.get.direction(),A.addClass(D[e])},visible:function(){A.addClass(D.visible)},overlay:function(){A.addClass(D.overlay)}},remove:{inlineCSS:function(){C.debug("Removing inline css styles",r),r&&r.length>0&&r.remove()},ios:function(){c.removeClass(D.ios)},pushed:function(){x.removeClass(D.pushed)},pushable:function(){x.removeClass(D.pushable)},active:function(){A.removeClass(D.active)},animating:function(){A.removeClass(D.animating)},transition:function(e){e=e||C.get.transition(),A.removeClass(e)},direction:function(e){e=e||C.get.direction(),A.removeClass(D[e])},visible:function(){A.removeClass(D.visible)},overlay:function(){A.removeClass(D.overlay)}},get:{direction:function(){return A.hasClass(D.top)?D.top:A.hasClass(D.right)?D.right:A.hasClass(D.bottom)?D.bottom:D.left},transition:function(){var e,t=C.get.direction();return e=C.is.mobile()?"auto"==k.mobileTransition?k.defaultTransition.mobile[t]:k.mobileTransition:"auto"==k.transition?k.defaultTransition.computer[t]:k.transition,C.verbose("Determined transition",e),e},transitionEvent:function(){var e,t=n.createElement("element"),a={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in a)if(t.style[e]!==i)return a[e]}},is:{ie:function(){var e=!t.ActiveXObject&&"ActiveXObject"in t,n="ActiveXObject"in t;return e||n},ios:function(){var e=navigator.userAgent,t=e.match(O.ios),n=e.match(O.mobileChrome);return t&&!n?(C.verbose("Browser was found to be iOS",e),!0):!1},mobile:function(){var e=navigator.userAgent,t=e.match(O.mobile);return t?(C.verbose("Browser was found to be mobile",e),!0):(C.verbose("Browser is not mobile, using regular transition",e),!1)},hidden:function(){return!C.is.visible()},visible:function(){return A.hasClass(D.visible)},open:function(){return C.is.visible()},closed:function(){return C.is.hidden()},vertical:function(){return A.hasClass(D.top)},animating:function(){return x.hasClass(D.animating)},rtl:function(){return C.cache.rtl===i&&(C.cache.rtl="rtl"==A.css("direction")),C.cache.rtl}},setting:function(t,n){if(C.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,k,t);else{if(n===i)return k[t];k[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,C,t);else{if(n===i)return C[t];C[t]=n}},debug:function(){k.debug&&(k.performance?C.performance.log(arguments):(C.debug=Function.prototype.bind.call(console.info,console,k.name+":"),C.debug.apply(console,arguments)))},verbose:function(){k.verbose&&k.debug&&(k.performance?C.performance.log(arguments):(C.verbose=Function.prototype.bind.call(console.info,console,k.name+":"),C.verbose.apply(console,arguments)))},error:function(){C.error=Function.prototype.bind.call(console.error,console,k.name+":"),C.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;k.performance&&(t=(new Date).getTime(),i=m||t,n=t-i,m=t,p.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:F,"Execution Time":n})),clearTimeout(C.performance.timer),C.performance.timer=setTimeout(C.performance.display,500)},display:function(){var t=k.name+":",n=0;m=!1,clearTimeout(C.performance.timer),e.each(p,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",u&&(t+=" '"+u+"'"),(console.group!==i||console.table!==i)&&p.length>0&&(console.groupCollapsed(t),console.table?console.table(p):e.each(p,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),p=[]}},invoke:function(t,n,a){var r,l,s,c=P;return n=n||f,a=F||a,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,a){var o=n!=r?a+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=r)c=c[o];else{if(c[o]!==i)return l=c[o],!1;if(!e.isPlainObject(c[a])||n==r)return c[a]!==i?(l=c[a],!1):(C.error(w.method,t),!1);c=c[a]}})),e.isFunction(l)?s=l.apply(a,n):l!==i&&(s=l),e.isArray(o)?o.push(s):o!==i?o=[o,s]:s!==i&&(o=s),l}},g?(P===i&&C.initialize(),C.invoke(h)):(P!==i&&C.invoke("destroy"),C.initialize())}),o!==i?o:this},e.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document);